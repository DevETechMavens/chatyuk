<!DOCTYPE html>
<html>
  <head>
    <title>Comms spec</title>
  </head>
  <body>
    <script src="../scripts/comms.js"></script>
    <script src="mini_spec.js"></script>
    <script type="text/javascript">
      //Strophe stub
      Strophe = { boshService: null };
      Strophe.Connection = function( boshService ) { this.boshService = boshService};
      Strophe.Connection.prototype = {
        connect: function (jid, password, onConnectCb) { 
                   return true
                 },
      }
    </script>

    <script type="text/javascript">
      it('can be initialized', function (){
        var comms1 = Object.create(XmppComms);
        comms1.connect('fakeuser', 'fakepass', 'fakeroom');
        assert(comms1.username, 'fakeuser');
        assert(comms1.password, 'fakepass');
        assert(comms1.room, 'fakeroom');
        assert(comms1.roomAndServer, 'fakeroom@'+XmppComms.CONFERENCE_SERVER);
      });

    </script>
    <div id="test-content"></div>
  </body>
</html>
